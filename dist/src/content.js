!function(){"use strict";function e(e,n,t,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){return void t(e)}u.done?n(c):Promise.resolve(c).then(r,i)}function n(n){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=n.apply(t,r);function u(n){e(a,i,o,u,c,"next",n)}function c(n){e(a,i,o,u,c,"throw",n)}u(void 0)}))}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,n,t){return e(t={path:n,exports:{},require:function(e,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&t.path)}},t.exports),t.exports}var i=t(r((function(e,n){!function(e){var n=Object.prototype.hasOwnProperty,t=function(e){for(var t,r=0;r<(arguments.length<=1?0:arguments.length-1);r++)if((t=r+1<1||arguments.length<=r+1?void 0:arguments[r+1])&&"object"==typeof t)for(var i in t)n.call(t,i)&&(e[i]=t[i]);return e},r=function(e){var n=e.length;if(!n)return[];if(1===n)return[e[0]];if(2===n)return[e[0],e[1]];if(3===n)return[e[0],e[1],e[2]];for(var t=new Array(n),r=0;r<n;r++)t[r]=e[r];return t},i=function(e,n){var t="function"==typeof n?n:function(e){return function(n,t){if(n.length!==t.length)return!1;for(var r=0,i=n.length;r<i;r++)if(!e(n[r],t[r]))return!1;return!0}}(e);return function(e,n){for(var r=0;r<e.length;r++)if(t(e[r],n))return r;return-1}},o=function(e,n){return e===n||e!=e&&n!=n},a=function(e,n,t){},u=function(e,n,t){for(var r=t;r--;)e[r+1]=e[r];e[0]=n},c=function(e){var n=i(e.isEqual,e.isMatchingKey);return function(t,r){var i=t.keys[0];t.values[0]=t.values[0].then((function(n){return e.onCacheHit(t,e,r),e.onCacheChange(t,e,r),n})).catch((function(e){var r=n(t.keys,i);throw~r&&(t.keys.splice(r,1),t.values.splice(r,1)),e}))}};function s(e,n){if(e.isMemoized)return e;var s=n||{},f=s.isEqual,l=void 0===f?o:f,p=s.isMatchingKey,h=s.isPromise,d=void 0!==h&&h,g=s.maxSize,m=void 0===g?1:g,v=s.onCacheAdd,y=void 0===v?a:v,x=s.onCacheChange,C=void 0===x?a:x,S=s.onCacheHit,b=void 0===S?a:S,A=s.transformKey,z=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],0<=n.indexOf(t)||(i[t]=e[t]);return i}(s,["isEqual","isMatchingKey","isPromise","maxSize","onCacheAdd","onCacheChange","onCacheHit","transformKey"]),k=t({},z,{isEqual:l,isMatchingKey:p,isPromise:d,maxSize:m,onCacheAdd:y,onCacheChange:C,onCacheHit:b,transformKey:A}),E=i(l,p),_=c(k),w=!(!A&&!p),O={keys:[],get size(){return O.keys.length},values:[]},j=O.keys,M=O.values;function q(){var n=arguments,t=w?r(n):n,i=A?A(t):t,o=E(j,i);if(~o)b(O,k,q),o&&(u(j,j[o],o),u(M,M[o],o),C(O,k,q));else{j.length>=m&&(j.pop(),M.pop());var a=w?i:r(t),c=e.apply(this,n);u(j,a,j.length),u(M,c,M.length),d&&_(O,q),y(O,k,q),C(O,k,q)}return M[0]}return Object.defineProperties(q,{cache:{configurable:!0,get:function(){return O}},cacheSnapshot:{configurable:!0,get:function(){return{keys:r(O.keys),size:O.size,values:r(O.values)}}},isMemoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return k}}}),q}function f(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if(n.length)return n.reduce((function(e,n){return"function"==typeof e?"function"==typeof n?function(){return e(n.apply(this,arguments))}:e:"function"==typeof n?n:void 0}))}function l(e,n){for(var t=0;t<e.length;t++)if(e[t].key===n)return t;return-1}function p(e,n){var t="function"==typeof n?n:function(n,t){for(var r=0;r<t.length;r++)if(!e(n[r],t[r]))return!1;return!0};return function(e,n){for(var r=0;r<e.length;r++)if(e[r].length===n.length&&t(e[r],n))return r;return-1}}function h(e){return Array.isArray(e)?e:[e]}function d(e,n,t){var r=l(e,n);~r&&(clearTimeout(e[r].timeoutId),t&&e.splice(r,1))}function g(e,n){var t=setTimeout(e,n);return"function"==typeof t.unref&&t.unref(),t}function m(){K.isCollectingStats=!0}function v(e,n){return e?(n/e*100).toFixed(4)+"%":"0%"}function y(e){if(K.isCollectingStats||H||(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),H=!0),e){if(!K.profiles[e])return{calls:0,hits:0,usage:"0%"};var n=K.profiles[e];return Object.assign({},n,{usage:v(n.calls,n.hits)})}var t=Object.keys(K.profiles).reduce((function(e,n){return e.calls+=K.profiles[n].calls,e.hits+=K.profiles[n].hits,e}),{calls:0,hits:0});return Object.assign({},t,{profiles:Object.keys(K.profiles).reduce((function(e,n){return e[n]=y(n),e}),{}),usage:v(t.calls,t.hits)})}function x(e,n){return e&&"object"==typeof e&&n.add(e)}function C(e,n,t,r){for(var i,o=0;o<e.length;o++)if(t((i=e[o])[0],n[0],r)&&t(i[1],n[1],r))return!0;return!1}function S(e,n,t,r){for(var i=0;i<e.length;i++)if(t(e[i],n,r))return!0;return!1}function b(e,n){return e===n||e!=e&&n!=n}function A(e){return e.constructor===Object}function z(e){return"function"==typeof e.then}function k(e){return!(!e.$$typeof||!e._store)}function E(e){return function(n){var t=e||n;return function(e,n,r){void 0===r&&(r=L?new WeakSet:Object.create({_values:[],add:function(e){this._values.push(e)},has:function(e){return!!~this._values.indexOf(e)}}));var i=r.has(e),o=r.has(n);return i||o?i&&o:(x(e,r),x(n,r),t(e,n,r))}}}function _(e){var n=[];return e.forEach((function(e,t){return n.push([t,e])})),n}function w(e){var n=[];return e.forEach((function(e){return n.push(e)})),n}function O(e,n,t,r){var i,o=J(e),a=J(n);if(o.length!==a.length)return!1;for(var u=0;u<o.length;u++){if(!S(a,i=o[u],b))return!1;if(!("_owner"===i&&k(e)&&k(n)||t(e[i],n[i],r)))return!1}return!0}function j(e){var n="function"==typeof e?e(t):t;function t(e,t,r){if(b(e,t))return!0;var i=typeof e;if(i!=typeof t||"object"!=i||!e||!t)return!1;if(A(e)&&A(t))return O(e,t,n,r);var o=B(e),a=B(t);if(o||a)return o===a&&function(e,n,t,r){if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!t(e[i],n[i],r))return!1;return!0}(e,t,n,r);var u=e instanceof Date,c=t instanceof Date;if(u||c)return u==c&&b(e.getTime(),t.getTime());var s=e instanceof RegExp,f=t instanceof RegExp;if(s||f)return s==f&&function(e,n){return e.source===n.source&&e.global===n.global&&e.ignoreCase===n.ignoreCase&&e.multiline===n.multiline&&e.unicode===n.unicode&&e.sticky===n.sticky&&e.lastIndex===n.lastIndex}(e,t);if(z(e)||z(t))return e===t;if(I){var l=e instanceof Map,p=t instanceof Map;if(l||p)return l==p&&function(e,n,t,r){if(e.size!==n.size)return!1;for(var i=_(e),o=_(n),a=0;a<i.length;a++)if(!C(o,i[a],t,r)||!C(i,o[a],t,r))return!1;return!0}(e,t,n,r)}if(U){var h=e instanceof Set,d=t instanceof Set;if(h||d)return h==d&&function(e,n,t,r){if(e.size!==n.size)return!1;for(var i=w(e),o=w(n),a=0;a<i.length;a++)if(!S(o,i[a],t,r)||!S(i,o[a],t,r))return!1;return!0}(e,t,n,r)}return O(e,t,n,r)}return t}function M(e){return function(n){if(e>=n.length)return n;switch(e){case 0:return[];case 1:return[n[0]];case 2:return[n[0],n[1]];case 3:return[n[0],n[1],n[2]];case 4:return[n[0],n[1],n[2],n[3]];case 5:return[n[0],n[1],n[2],n[3],n[4]]}return Array.prototype.slice.call(n,0,e)}}var q={equals:void 0,isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1/0,onExpire:void 0,profileName:void 0,serializer:void 0,shouldSerializeFunctions:!1,transformArgs:void 0,updateExpire:!1},P=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if(n.length)return n.reduce((function(e,n){return"function"==typeof e?"function"==typeof n?function(){n.apply(this,arguments),e.apply(this,arguments)}:e:"function"==typeof n?n:void 0}))},R=function(e,n){return n===q?e:Object.assign({},e,n,{onCacheAdd:P(e.onCacheAdd,n.onCacheAdd),onCacheChange:P(e.onCacheChange,n.onCacheChange),onCacheHit:P(e.onCacheHit,n.onCacheHit),transformArgs:f(e.transformArgs,n.transformArgs)})},N=function(e,n,t,r){var i=n.maxAge,o=n.updateExpire,a="number"==typeof i&&isFinite(i)?function e(n,t,r,i){var o=t.maxAge,a=t.onCacheChange,u=t.onExpire,c=p(r,i);return function(i,s,f){var p=i.keys[0];if(!~l(n,p)){var h=function(){var o=c(i.keys,p),l=i.values[o];~o&&(i.keys.splice(o,1),i.values.splice(o,1),"function"==typeof a&&a(i,s,f)),d(n,p,!0),"function"==typeof u&&!1===u(p)&&(i.keys.unshift(p),i.values.unshift(l),e(n,t,r)(i,s,f),"function"==typeof a&&a(i,s,f))};n.push({expirationMethod:h,key:p,timeoutId:g(h,o)})}}}(e,n,t,r):void 0;return{onCacheAdd:a,onCacheHit:a&&o?function(e,n){var t=n.maxAge;return function(n){var r=n.keys[0],i=l(e,r);~i&&(d(e,r,!1),e[i].timeoutId=g(e[i].expirationMethod,t))}}(e,n):void 0}},K={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},H=!1,D=function(e){var n=(new Error).stack,t=e.displayName||e.name||"Anonymous "+K.anonymousProfileNameCounter++;if(!n)return t;for(var r,i,o=n.split("\n").slice(3),a=0;a<o.length;a++)if(!~(r=o[a]).indexOf("/moize/")&&!~r.indexOf(" (native)")&&!~r.indexOf(" Function.")){i=r.replace(/\n/g,"\\n").trim();break}return i?t+" "+i:t},F=function(e){return K.isCollectingStats?{onCacheAdd:function(e){var n=e.profileName;return K.profiles[n]||(K.profiles[n]={calls:0,hits:0}),function(){K.profiles[n].calls++}}(e),onCacheHit:function(e){var n=e.profileName;return function(){K.profiles[n].calls++,K.profiles[n].hits++}}(e)}:{}},T=function(e,n){return function(e,n){var t=n.expirations,r=e.options,i=r.isEqual,o=r.isMatchingKey,a=r.onCacheAdd,c=r.onCacheChange,s=r.transformKey,f=p(i,o);e.add=function(n,t){var r=s?s(n):n;~f(e.cache.keys,r)||(e.cache.size>=e.options.maxSize&&(e.cache.keys.pop(),e.cache.values.pop()),e.cache.keys.unshift(r),e.cache.values.unshift(t),a(e.cache,e.options,e),c(e.cache,e.options,e))},e.clear=function(){e.cache.keys.length=0,e.cache.values.length=0,c(e.cache,e.options,e)},e.get=function(n){var t=f(e.cache.keys,s?s(n):n);return~t?e.apply(this,e.cache.keys[t]):void 0},e.getStats=function(){return y(e.options.profileName)},e.has=function(n){return!!~f(e.cache.keys,s?s(n):n)},e.keys=function(){return e.cacheSnapshot.keys},e.remove=function(n){var r=f(e.cache.keys,s?s(n):n);if(~r){var i=e.cache.keys[r];e.cache.keys.splice(r,1),e.cache.values.splice(r,1),c(e.cache,e.options,e),d(t,i,!0)}},e.update=function(n,t){var r=f(e.cache.keys,s?s(n):n);if(~r){var i=e.cache.keys[r];u(e.cache.keys,i,r),u(e.cache.values,t,r),c(e.cache,e.options,e)}},e.values=function(){return e.cacheSnapshot.values}}(e,n),function(e,n){var t=n.expirations,r=n.options,i=n.originalFunction,o=e.options;Object.defineProperties(e,{_microMemoizeOptions:{configurable:!0,get:function(){return o}},expirations:{configurable:!0,get:function(){return t}},expirationsSnapshot:{configurable:!0,get:function(){return t.slice(0)}},isCollectingStats:{configurable:!0,get:function(){return K.isCollectingStats}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return r}},originalFunction:{configurable:!0,get:function(){return i}}}),r.isReact&&(e.contextTypes=i.contextTypes,e.defaultProps=i.defaultProps,e.displayName="Moized("+(i.displayName||i.name||"Component")+")",e.propTypes=i.propTypes)}(e,n),e},I="function"==typeof Map,U="function"==typeof Set,L="function"==typeof WeakSet,J=Object.keys,B=Array.isArray,W=(j(E()),j(E(b)),j()),$=j((function(){return b}));function V(e,n,t){return"[ref-"+t+"]"}var Z=function(e,n){if(e[0]===n)return 0;for(var t=e.length,r=1;r<t;r++)if(e[r]===n)return r;return-1};function G(e,n){var t=n||V,r="function"==typeof e,i=[];return function(n,o){if("object"==typeof o)if(i.length){var a=Z(i,this)+1;a?i=function(e,n){for(var t=new Array(n),r=0;r<n;r++)t[r]=e[r];return t}(i,a):i[i.length]=this;var u=Z(i,o);if(~u)return t.call(this,n,o,u)}else i[0]=o;return r?e.call(this,n,o):o}}function Q(e,n){return"function"==typeof n?""+n:n}function X(e,n){try{return JSON.stringify(e,n)}catch(t){return function(e,n,t,r){return JSON.stringify(e,G(n,r),t)}(e,n)}}function Y(e){return"function"==typeof e.serializer?f(h,e.serializer):function(e){var n=e.shouldSerializeFunctions?Q:null;return function(e){for(var t,r,i="|",o=0;o<e.length;o++)i+=(r=typeof(t=e[o]),(!t||"object"!=r&&"function"!=r?t:X(t,n))+"|");return[i]}}(e)}function ee(e,n){return e[0]===n[0]}var ne=function(e){if("function"==typeof e)return function(n,t,r){return e(r.cache,r.options,r)}},te=function(e){var n=e.equals,t=e.isDeepEqual,r=e.isReact;return n||t&&W||r&&$||b},re=function(e){var n=e.isSerialized;return e.matchesKey||n&&ee||void 0},ie=function(e){var n=e.maxArgs,t=e.isReact,r=e.isSerialized,i=e.transformArgs;return f(r&&Y(e),"function"==typeof i&&f(h,i),t&&M(2),"number"==typeof n&&M(n))};function oe(e,n){if(void 0===n&&(n=q),e.isMoized)return oe(e.originalFunction,R(e.options,n));if("object"==typeof e)return function(n,t){return void 0===t&&(t={}),"function"==typeof n?oe(n,R(e,t)):oe(R(e,n))};var t=Object.assign({},q,n,{maxArgs:"number"==typeof n.maxArgs&&0<=n.maxArgs?n.maxArgs:q.maxArgs,maxSize:"number"==typeof n.maxSize&&0<=n.maxSize?n.maxSize:q.maxSize,profileName:n.profileName||D(e)}),r=[],i=(t.equals,t.isDeepEqual,t.isPromise),o=(t.isReact,t.isSerialized,t.matchesKey,t.maxAge,t.maxArgs,t.maxSize),a=t.onCacheAdd,u=t.onCacheChange,c=t.onCacheHit,f=(t.onExpire,t.profileName,t.shouldSerializeFunctions,t.serializer,t.transformArgs,t.updateExpire,function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],0<=n.indexOf(t)||(i[t]=e[t]);return i}(t,["equals","isDeepEqual","isPromise","isReact","isSerialized","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","shouldSerializeFunctions","serializer","transformArgs","updateExpire"])),l=te(t),p=re(t),h=N(r,t,l,p),d=F(t),g=ie(t),m=Object.assign({},f,{isEqual:l,isMatchingKey:p,isPromise:i,maxSize:o,onCacheAdd:ne(P(a,h.onCacheAdd,d.onCacheAdd)),onCacheChange:ne(u),onCacheHit:ne(P(c,h.onCacheHit,d.onCacheHit)),transformKey:g});return T(s(e,m),{expirations:r,options:t,originalFunction:e})}oe.collectStats=m,oe.compose=function(){return f.apply(null,arguments)||oe},oe.deep=oe({isDeepEqual:!0}),oe.getStats=y,oe.isCollectingStats=function(){return K.isCollectingStats},oe.isMoized=function(e){return"function"==typeof e&&!!e.isMoized},oe.maxAge=function(e){return oe({maxAge:e})},oe.maxArgs=function(e){return oe({maxArgs:e})},oe.maxSize=function(e){return oe({maxSize:e})},oe.promise=oe({isPromise:!0,updateExpire:!0}),oe.react=oe({isReact:!0}),oe.reactSimple=oe({isReact:!0,maxSize:1}),oe.serialize=oe({isSerialized:!0}),oe.simple=oe({maxSize:1}),e.collectStats=m,e.default=oe,Object.defineProperty(e,"__esModule",{value:!0})}(n)}))),o=(r((function(e,n){var t;t=function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function i(){}function o(n,t,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(t);/^[\{\[]/.test(a)&&(t=a)}catch(e){}t=r.write?r.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,!0!==o[c]&&(u+="="+o[c].split(";")[0]));return document.cookie=n+"="+t+u}}function a(e,t){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var u=o[a].split("="),c=u.slice(1).join("=");t||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var s=n(u[0]);if(c=(r.read||r)(c,s)||n(c),t)try{c=JSON.parse(c)}catch(e){}if(i[s]=c,e===s)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(n,t){o(n,"",e(t,{expires:-1}))},i.defaults={},i.withConverter=t,i}((function(){}))},e.exports=t()})),"_duo-sv_"),a=["_2seqj"],u="".concat(o,"-solution-icon-url"),c="success",s="".concat(o,"-action_request_"),f="".concat(o,"-action_result_"),l=["get_current_translation_challenge","get_current_listening_challenge","match_challenge_with_user_answer","get_comment_challenge","update_discussion_challenges","update_comment_user_reference"],p="".concat(o,"-ui_event_notification_"),h=["session_loaded","sound_played"];function d(){}function g(e){return"object"==typeof e&&!!e&&!Array.isArray(e)}var m=i((e,n)=>{var t={},r=document.createElement("div");r.style.display="none",e.forEach(e=>r.classList.add(e)),document.body.appendChild(r);var i=getComputedStyle(r);return n.forEach(e=>{t[e]=i.getPropertyValue(e)||""}),r.remove(),t}),v=(i(()=>{var e=document.querySelector("img._1TuHK");return"".concat(new URL(e&&e.src||"https://d35aaqx5ub95lt.cloudfront.net/").origin,"/")}),i(()=>{var e=document.querySelector('meta[name="'.concat(u,'"]')),n=(e&&e.getAttribute("content")||"").trim();return n&&"url(".concat(n,")")||m(a,["background-image"])["background-image"]||null}),document.createElement("script"));v.src=chrome.runtime.getURL("src/observer.js"),v.type="text/javascript",(document.head||document.documentElement).appendChild(v);var y=document.createElement("script");y.src=chrome.runtime.getURL("src/ui.js"),y.type="text/javascript",(document.head||document.documentElement).appendChild(y);var x=document.createElement("meta");function C(e){return S.apply(this,arguments)}function S(){return(S=n((function*(e){return new Promise((n,t)=>{chrome.runtime.sendMessage(e,e=>{chrome.runtime.lastError?t():n(e)})})}))).apply(this,arguments)}x.name=u,x.content=chrome.runtime.getURL("assets/icon_solution.svg"),(document.head||document.documentElement).appendChild(x),window.addEventListener("message",e=>{if(e.source===window&&g(e.data))if(s===e.data.type){var n=e.data.action||null;(l.indexOf(n)>=0?C(e.data).then(e=>{if(!g(e)||c!==e.type)throw new Error;return e.value}):new Promise((e,n)=>n())).then(t=>{e.source.postMessage({type:f,action:n,result:c,value:t},"*")}).catch(()=>{e.source.postMessage({type:f,action:n,result:"failure"},"*")})}else if(p===e.data.type){var t=e.data.event||null;h.indexOf(t)>=0&&C(e.data).then(d).catch(d)}})}();
